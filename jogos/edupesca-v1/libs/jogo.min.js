function contactForm(){$("#contactform").submit(function(){var e=$("#contactform"),r="Sua mensagem foi enviado com sucesso";return $.ajax({type:"POST",url:"http://www.sitejogavel.com.br/email",data:$(this).serialize(),success:function(a){console.log(a),response="sucess"==a?'<div class="success">'+r+"</div>":'<div class="error">Ocorreu um erro: tente novamente</div>',$("#nome").val(""),$("#email").val(""),$("#msg").val(""),$("#submit").hide(),$(".error,.success").remove(),e.prepend(response)}}),!1})}var world,PTM_RATIO=30,w=2100,h=625,left,right=!0;window.onload=function(){gameInit()},gameInit=function(){Crafty.init(w,h),Crafty.box2D.init(0,9.5,PTM_RATIO,!0),world=Crafty.box2D.world,Crafty.scene("main",function(){server.startFood(),generateWorld()}),Crafty.scene("main")},generateWorld=function(){function e(e){e?(o.animate("motor",0,0,1),o.animate("motor",5,-1)):(o.animate("motor",0,1,0),o.animate("motor",5,0))}function r(e){e?(n.animate("braco",0,0,1),n.animate("braco",5,-1)):(n.animate("braco",0,0,0),n.animate("braco",5,0))}Crafty.box2D.buoyancy(),Crafty.box2D.listenForContact(),Crafty.e("2D, DOM, Box2D").attr({x:0,y:0}).box2d({bodyType:"static",density:1,friction:10,restitution:0,groupIndex:-2,shape:[[0,h-10],[w,h-10],[w,h],[0,h]]}),Crafty.e("2D, DOM, Box2D").attr({x:0,y:0,w:1074,h:534,z:13}).css({margin:"230px 0 0 -20px",background:"url('images/encosta1.png') 0 0 no-repeat"}).box2d({bodyType:"static",density:1,friction:10,restitution:0,shape:[[0,200],[776,200],[776,600],[0,600]]}),Crafty.e("2D, DOM, Box2D").attr({x:776,y:0,w:236,h:175,z:11}).css({margin:"245px 0 0 20px",background:"url('images/pier.png') 0 0 no-repeat"}).box2d({bodyType:"static",density:1,friction:10,restitution:0,groupIndex:-2,shape:[[0,204],[234,204],[5,400],[0,400]]}),Crafty.e("2D, DOM, Box2D").attr({x:0,y:0,w:400,h:526,z:14}).css({margin:"245px 0 0 1935px",background:"url('images/encosta2.png') 0 0 no-repeat"}).box2d({bodyType:"static",density:1,friction:10,restitution:0,shape:[[2130,200],[2460,200],[2460,600],[2130,600]]}),Crafty.e("2D, DOM").attr({x:770,y:0,w:1407,h:400,z:12}).css({margin:"342px 0 0 0",background:"url('images/r2b.png') 0 0 repeat"}),Crafty.sprite(1525,server.agua.altura,server.agua.imagem,server.agua.mapa),Crafty.e("2D, DOM, SpriteAnimation, Box2D, agua").attr({x:770,y:0,z:12}).css({margin:"260px 0 0 0"}).animate("agua",0,0,3).animate("agua",30,-1).sprite(0,100,0,0).box2d({bodyType:"static",sensor:!0,shape:[[0,h/3+40],[w,h/3+40],[w,h],[0,h]]}),Crafty.sol=Crafty.e("2D, DOM").attr({w:251,h:232,x:700,y:50,z:1}).css({background:"url('images/raios.png') 0 0 repeat"}),Crafty.e("2D, DOM").attr({w:2328,h:400,x:0,y:-200,z:0}).css({background:"url('images/c2b.jpg') 0 0 repeat"}),Crafty.n1=Crafty.e("2D, DOM").attr({w:453,h:183,x:100,y:-30,z:1}).css({background:"url('images/n1.png') 0 0 no-repeat"}),Crafty.n2=Crafty.e("2D, DOM").attr({w:619,h:228,x:600,y:-100,z:1}).css({background:"url('images/n2.png') 0 0 no-repeat"}),Crafty.n3=Crafty.e("2D, DOM").attr({w:708,h:178,x:1900,y:-50,z:1}).css({background:"url('images/n3.png') 0 0 no-repeat"}),Crafty.sprite(server.nMsg.largura,server.nMsg.altura,server.nMsg.imagem,server.nMsg.mapa),Crafty.nMsg=Crafty.e("2D, DOM, SpriteAnimation, nMsg").attr({x:690,y:-185,z:4}),Crafty.e("2D, DOM").css({background:"url('images/campo.png') 0 0 no-repeat"}).attr({x:0,y:110,w:2463,h:180,z:2}),$("#ent132").html('<div id="about" style="margin:180px 0 0 200px; z-index:12;"><h3 class="main-heading"><span><img src="images/logo.png"/></span></h3><div id="gameinfo" ><p style="font-size:14px;">Pesque as quatro letras que correspondem à imagem abaixo.</p> <img style="margin:0 0 0 10px;" src="images/casa.jpg" with="50" height="50"> <img style="margin:0 0 0 10px;" id="letra1" src="images/anderline.png" with="50" height="50"> <img style="margin:0 0 0 10px;" id="letra2" src="images/anderline.png" with="50" height="50"> <img style="margin:0 0 0 10px;" id="letra3" src="images/anderline.png" with="50" height="50"> <img style="margin:0 0 0 10px;" src="images/anderline.png" id="letra4" with="50" height="50"></div><div id="gamevitoria" style="display:none;"><h2 style="color:green; margin-left:200px;">Parabéns você conseguiu!</h2></div><div id="gamederrota" style="display:none;"><h2 style="color:red; margin-left:150px;">Não conseguiu, tente novamente!</h2></div></div>'),Crafty.nMsg.animate("nMsgb",0,0,3),Crafty.nMsg.animate("nMsgb",10,0);var a=Crafty.e("2D, DOM").attr({x:-350,y:-150,w:200,h:59}).css({background:"url('images/airplane.png') 0 0 no-repeat"});Crafty.sprite(server.barco.largura,server.barco.altura,server.barco.imagem,server.barco.mapa),server.barco.crafty=Crafty.e("2D, DOM, Multiway, Keyboard, Box2D, barco_pcs").origin("center").attr({x:1040,y:10,z:4}).css({margin:"0 0 0 -60px"}).box2d({bodyType:"dynamic",density:.8,friction:0,restitution:.3,groupIndex:-2,shape:[[0,0],[240,0],[220,40],[-70,40],[-80,0]]}).bind("KeyDown",function(a){server.barco.chave&&(a.keyCode==Crafty.keys.A?(player.moveBoat=-25,e(!0),left=!0):a.keyCode==Crafty.keys.D&&(player.moveBoat=25,e(!0),right=!0),a.keyCode==Crafty.keys.W&&server.barco.chave?(player.moveVara=-1,r(!0)):a.keyCode==Crafty.keys.S&&server.barco.chave&&(player.moveVara=1,r(!0)))}).bind("KeyUp",function(a){a.keyCode==Crafty.keys.A?(player.moveBoat=0,e(!1),left=!1):a.keyCode==Crafty.keys.D&&(player.moveBoat=0,e(!1),right=!1),a.keyCode==Crafty.keys.W&&server.barco.chave?(player.moveVara=0,r(!1)):a.keyCode==Crafty.keys.S&&server.barco.chave&&(player.moveVara=0,r(!1))}),Crafty.addEvent(this,"mousedown",function(r){if(server.barco.chave){player.scroll=$(window).scrollLeft();var a=server.barco.crafty._x-player.scroll-r.clientX;player.mousePos=r.clientX,0>a?(player.moveBoat=25,e(!0),right=!0,left=!1):(player.moveBoat=-25,e(!0),left=!0,right=!1)}else{var a=server.karl._x-$(window).scrollLeft()-r.clientX;player.mousePos=r.clientX,0>a?(server.karl.animate("PlayerMovingStopRight",0),right=!0,left=!1):(server.karl.animate("PlayerMovingStopLeft",0),left=!0,right=!1)}}),Crafty.addEvent(this,"mouseup",function(){server.barco.chave||(left?server.karl.animate("PlayerMovingLeft",25,-1):server.karl.animate("PlayerMovingRight",25,-1))});var t=Crafty.e("2D, DOM, Box2D").origin("center").attr({x:300,y:30,h:80,w:14,z:4}).box2d({bodyType:"dynamic",density:1.5,friction:2.5,restitution:1.3,groupIndex:-2});Crafty.box2D.revoluteJoint({revolute_bodyA:server.barco.crafty.body,revolute_bodyB:t.body,anchorA:[6,1],anchorB:[0,0],torque:800,speed:-2,enableMotor:!0}),Crafty.sprite(server.motor.largura,server.motor.altura,server.motor.imagem,server.motor.mapa);var o=Crafty.e("2D, DOM, Color, Box2D, SpriteAnimation, motor").origin("center").css({margin:"10px 0 0 -60px"}).attr({x:1200,y:30,z:4}).box2d({bodyType:"dynamic",density:.1,friction:0,restitution:0,shape:[[0,0],[10,0],[10,30],[0,30]],groupIndex:-2});Crafty.box2D.revoluteJoint({revolute_bodyA:o.body,revolute_bodyB:server.barco.crafty.body,anchorA:[1.6,-.2],anchorB:[0,0],enableLimit:!0,lowerAngle:0,upperAngle:0}),Crafty.sprite(server.karl.largura,server.karl.altura,server.karl.imagem,server.karl.mapa);var i=Crafty.e("2D, DOM, Color, Box2D, karl_pcs").origin("center").attr({x:1200,y:0,z:4}).css({margin:"-2px 0 0 -29px"}).box2d({bodyType:"dynamic",density:1,friction:0,restitution:0,groupIndex:-2,shape:[[0,0],[10,0],[10,50],[0,50]]});Crafty.box2D.revoluteJoint({revolute_bodyA:i.body,revolute_bodyB:server.barco.crafty.body,anchorA:[.1,0],anchorB:[0,-2],enableLimit:!0,lowerAngle:0,upperAngle:0}),Crafty.sprite(server.braco.largura,server.braco.altura,server.braco.imagem,server.braco.mapa);var n=Crafty.e("2D, DOM, Color, SpriteAnimation, Box2D, braco_pcs").attr({x:300,y:30,z:4}).origin(0,9).css({margin:"-2px 0 0 -53px"}).box2d({bodyType:"dynamic",density:3.5,friction:.3,restitution:.5,shape:[[0,0],[50,0],[50,5],[0,5]],sensor:!0,groupIndex:-1});Crafty.box2D.revoluteJoint({revolute_bodyA:server.barco.crafty.body,revolute_bodyB:n.body,anchorA:[1.4,-1],anchorB:[0,-.2],enableLimit:!0,lowerAngle:-45,upperAngle:-5.5}),Crafty.sprite(server.anzol.largura,server.anzol.altura,server.anzol.imagem,server.anzol.mapa);var s=Crafty.anzol=Crafty.e("2D, DOM, SpriteAnimation, Anzol, Box2D, anzol_pcs").origin(0,0).attr({x:1200,y:0,z:4}).css({margin:"30px 0 0 0"}).box2d({bodyType:"dynamic",density:2.5,friction:0,restitution:0,groupIndex:-2,shape:[[-1,5],[-3,0],[-0,-0]]});s.addFixture({bodyType:"dynamic",density:2.5,friction:0,restitution:0,groupIndex:-2,shape:[[-1.11491136,5.86],[-.11491136,18.86],[-2.11491136,18.86],[-3.11491136,-.14]]}),s.addFixture({bodyType:"dynamic",density:2.5,friction:0,restitution:0,groupIndex:-2,shape:[[-.11491136,18.86],[5.88508864,23.86],[2.88508864,24.86],[-2.11491136,18.86]]}),s.addFixture({bodyType:"dynamic",density:2.5,friction:0,restitution:0,groupIndex:-2,shape:[[12.88508864,10.86],[12.88508864,21.86],[11.88508864,20.86],[11.88508864,8.86]]}),s.addFixture({bodyType:"dynamic",density:2.5,friction:0,restitution:0,groupIndex:-2,shape:[[12.88508864,21.86],[5.88508864,23.86],[11.88508864,20.86]]});var l=Crafty.box2D.ropeJointDef({revolute_bodyA:n.body,revolute_bodyB:s.body,anchorA:[5,0],anchorB:[0,0],maxLength:player.rolo});server.barco.crafty.__coord[0]=264,i.__coord[0]=0,n.__coord[0]=0,s.css({margin:"-8px 0 0 -50px"}),Crafty.box2D.PTM_RATIO,Crafty.bind("EnterFrame",function(){if(a.x>2500&&(a.x=-600),a.x=a.x+5,Crafty.n1.x>2340&&(Crafty.n1.x=-453),Crafty.n1.x=Crafty.n1.x+.2,Crafty.n2.x>2340&&(Crafty.n2.x=-619),Crafty.n2.x=Crafty.n2.x+.1,Crafty.n3.x>2340&&(Crafty.n3.x=-708),Crafty.n3.x=Crafty.n3.x+.2,Crafty.sol.x=$(window).scrollLeft()+500,server.move_c<=200&&(server.boias.about||server.boias.contato||server.boias.portfolio)&&server.move_c++,(server.boias.about||server.boias.contato||server.boias.portfolio)&&(Crafty.nMsg.x=$(window).scrollLeft()),server.camera(),server.player.move(),server.barco.chave=!0,(-25==player.moveBoat||25==player.moveBoat)&&server.barco.crafty._x<1760&&server.barco.crafty.body.ApplyForce(new b2Vec2(player.moveBoat,0),server.barco.crafty.body.GetWorldCenter()),player.moveVara){var e=player.moveVara<0?-.05:.05;player.rolo=player.rolo+e,player.rolo.toFixed(0)>0?(l.m_maxLength>13&&(player.rolo=13),l.m_maxLength=player.rolo,player.an=!1):player.rolo.toFixed(0)<-1&&(player.rolo=0),n.body.ApplyTorque(player.moveVara<0?-35:35)}}),Crafty.viewport.y=0,server.createFishPort()};var player={id:null,peixe:[],mousePos:0,scroll:0,name:null,score:null,isca:{quant:2,mord:20,pont:1e5,sub:0},rolo:.1,moveBoat:5,moveVara:null,an:!1,w:!1},server={move_c:200,cabeca:null,letraSoma:1,letra:[],prods:{prod_1:{id:"001",categ:null,desc:"a",preco:"",density:.8,panic:[0,5],sprite:{largura:118,altura:56,imagem:"images/a_.png",mapa:{peixe_pcs:[0,0]}}},prod_2:{id:"002",categ:null,desc:"c",preco:"",density:.8,panic:[0,5],sprite:{largura:118,altura:56,imagem:"images/c_.png",mapa:{peixe_pcs:[0,0]}}},prod_3:{id:"003",categ:null,desc:"s",preco:"",density:.8,panic:[0,5],sprite:{largura:118,altura:56,imagem:"images/s_.png",mapa:{peixe_pcs:[0,0]}}},prod_4:{id:"004",categ:null,desc:"a",preco:"",density:.8,panic:[0,5],sprite:{largura:118,altura:56,imagem:"images/a_.png",mapa:{peixe_pcs:[0,0]}}},prod_5:{id:"005",categ:null,desc:"b",preco:"",density:.8,panic:[0,5],sprite:{largura:118,altura:56,imagem:"images/b_.png",mapa:{peixe_pcs:[0,0]}}},prod_6:{id:"005",categ:null,desc:"e",preco:"",density:.8,panic:[0,5],sprite:{largura:118,altura:56,imagem:"images/e_.png",mapa:{peixe_pcs:[0,0]}}}},portugues_nivel_1:{prod_1:{id:"001",categ:null,desc:"a",density:.8,panic:[0,10],sprite:{largura:118,altura:56}},prod_2:{id:"002",categ:null,desc:"c",density:.8,panic:[0,10],sprite:{largura:118,altura:56}},prod_3:{id:"003",categ:null,desc:"s",density:.8,panic:[0,10],sprite:{largura:118,altura:56}},prod_4:{id:"004",categ:null,desc:"a",density:.8,panic:[0,30],sprite:{largura:118,altura:56}}},matematica_nivel_1:{prod_1:{id:"001",categ:null,desc:"1",density:.8,panic:[0,10],sprite:{largura:118,altura:56}},prod_2:{id:"002",categ:null,desc:"2",density:.8,panic:[0,10],sprite:{largura:118,altura:56}},prod_3:{id:"003",categ:null,desc:"3",density:.8,panic:[0,10],sprite:{largura:118,altura:56}},prod_4:{id:"004",categ:null,desc:"4",density:.8,panic:[0,30],sprite:{largura:118,altura:56}},prod_5:{id:"005",categ:null,desc:"5",density:.8,panic:[0,30],sprite:{largura:118,altura:56}},prod_6:{id:"006",categ:null,desc:"6",density:.8,panic:[0,30],sprite:{largura:118,altura:56}},prod_7:{id:"007",categ:null,desc:"7",density:.8,panic:[0,30],sprite:{largura:118,altura:56}},prod_8:{id:"008",categ:null,desc:"8",density:.8,panic:[0,30],sprite:{largura:118,altura:56}},prod_9:{id:"009",categ:null,desc:"9",density:.8,panic:[0,30],sprite:{largura:118,altura:56}}},barco:{crafty:null,chave:!1,speedM:0,largura:262,altura:83,imagem:"images/barco.png",mapa:{barco_pcs:[0,0]}},karl:{largura:76,altura:96,imagem:"images/karl.png",mapa:{karl_pcs:[0,0]}},karl2:{largura:85,altura:141,imagem:"images/player.png",mapa:{karl:[0,0]}},boias:{portfolio:!1,about:!0,contato:!1},braco:{largura:161,altura:35,imagem:"images/braco.png",mapa:{braco_pcs:[0,0]}},anzol:{largura:26,altura:37,imagem:"images/anzol.png",mapa:{anzol_pcs:[1,0]}},nMsg:{click:!1,largura:1155,altura:408,imagem:"images/nMsg.png",mapa:{nMsg:[0,1]}},agua:{largura:304,altura:82,imagem:"images/rio.png",mapa:{agua:[0,0]}},motor:{largura:104,altura:97,imagem:"images/motor.png",mapa:{motor:[0,1]}},win:{largura:800,altura:328,imagem:"null",mapa:{win:[0,0]}},foods:{food:[],quant:function(){return 20*_.size(server.prods)}},createFishPort:function(){var e=0,r=1,a=1;_.each(server.prods,function(t){Crafty.sprite(t.sprite.largura,t.sprite.altura,t.sprite.imagem,t.sprite.mapa);var o=w/(100*r+1),i=900+(150*r+1);1==o.toFixed()&&(r=0,a++),r++;var n=i,s=30*a+(h/2+200),l='<div id="peixe_'+e+'" style="display:block;" class="peixe"><div id="desc_'+e+'" class="desc"><span style="font-size:13px;"></span></div><div id="rabo_'+e+'" class="rabo" style="display:block; float:left; width:100px;" >'+t.preco+"</div></div>";player.peixe[e]=Crafty.e("2D, DOM, SpriteAnimation, Peixe_"+e+", Box2D, "+_.keys(t.sprite.mapa)[0]+", Peixe").attr({x:n,y:s,z:5}).css({margin:"-20px 0 0 -40px"}).origin(10,0).box2d({bodyType:"dynamic",density:t.density,friction:.2,restitution:0,groupIndex:-1,shape:[[32,-22],[32,-18],[3,-18],[3,-22]]}).addFixture({bodyType:"dynamic",density:t.density,friction:.5,restitution:0,groupIndex:-1,shape:[[32,17],[32,21],[3,21],[3,17]]}).addFixture({bodyType:"dynamic",density:t.density,friction:.5,restitution:0,groupIndex:-1,shape:[[0,8],[0,-3],[7,-3],[8,3]]}),$(player.peixe[e]._element).append(l),$("#rabo_"+e).lettering().children("span").css({display:"inline-block"}),player.peixe[e].KDtree({id:player.peixe[e]._element.id,idobj:t.id,crafty:null,x:n,y:s,move:!0,caractere:t.desc,modeRote:[],panic:t.panic,flip:1,comport:900}),e++})},startFood:function(){for(var e=0;e<server.foods.quant();e++){var r=Math.random()*Crafty.viewport.width+800,a=Math.random()*Crafty.viewport.height/2+300;Crafty.e("2D, DOM, Color").attr({x:r,y:a,w:10,h:10});var t={id:1e3*Math.random(),mode:!0,x:r,y:a};server.foods.food.push(t)}},createFood:function(){var e=Math.random()*Crafty.viewport.width+800,r=Math.random()*Crafty.viewport.height/2+300;Crafty.e("2D, DOM, Color").attr({x:e,y:r,w:10,h:10});var a={id:1e3*Math.random(),mode:!0,x:e,y:r};server.foods.food.push(a)},win_pesca:function(e){e.caractere&&(server.letra[server.letraSoma]=e.caractere,$("#letra"+server.letraSoma).attr({src:"images/"+e.caractere+".png"}),e.caractere=!1,world.DestroyBody(e.crafty.body),e.crafty.destroy(),console.log(server.letraSoma),4==server.letraSoma&&("c"==server.letra[1]&&"a"==server.letra[2]&&"a"==server.letra[2]&&"s"==server.letra[3]&&"a"==server.letra[4]?(console.log("conseguiu"),$("#gameinfo").hide(),$("#gamevitoria").show(),player.isca.mord=0):($("#gameinfo").hide(),$("#gamederrota").show(),console.log("perdeu"),player.isca.mord=0)),server.letraSoma++)},camera:function(){if(server.barco.chave&&(left||right)){var e=server.barco.crafty._x.toFixed()-400;server.barco.crafty._x.toFixed()<1400&&$(window).scrollLeft(e),server.move_c>=0&&!(server.boias.about||server.boias.contato||server.boias.portfolio)&&(console.log(Crafty.viewport.y),server.move_c--)}else if(left||right){if(server.player.subir)var e=server.barco.crafty._x.toFixed()-400;0>-e&&server.barco.crafty._x.toFixed()<1400&&$(window).scrollLeft(e),server.move_c<=200&&(console.log(server.move_c),server.move_c++)}},player:{subir:!1,criarKarl:function(e){server.barco.chave=!1,server.player.subir=!1,Crafty.sprite(server.karl2.largura,server.karl2.altura,server.karl2.imagem,server.karl2.mapa),server.karl=Crafty.e("2D, DOM, SpriteAnimation, Box2D, karl, Movable, Twoway, Mouse, Keyboard").attr({x:e,y:130,z:15}).css({margin:"-20px 0 0 0"}).box2d({bodyType:"dynamic",density:2,friction:.8,restitution:0,shape:[[60,-25],[60,54],[25,60],[-10,54],[-10,-25]]}).twoway(3).animate("PlayerMovingRight",0,0,7).animate("PlayerMovingLeft",0,1,7).animate("PlayerMovingStopRight",1,0,1).animate("PlayerMovingStopLeft",6,1,1),server.karl.bind("KeyDown",function(e){return left&&right?(console.log("stop"),void server.karl.animate("PlayerMovingStopRight",0)):(e.keyCode===Crafty.keys.A&&(server.karl.animate("PlayerMovingLeft",25,-1),left=!0),void(e.keyCode===Crafty.keys.D&&(server.karl.animate("PlayerMovingRight",25,-1),right=!0)))}).bind("KeyUp",function(e){e.keyCode===Crafty.keys.A&&(server.karl.animate("PlayerMovingStopLeft",0),left=!1),e.keyCode===Crafty.keys.D&&(right=!1,server.karl.animate("PlayerMovingStopRight",0))}),server.karl.body.SetFixedRotation(!0)},move:function(){if(!server.barco.chave){if(left&&right)return void server.karl.animate("PlayerMovingStopRight",0);if(0!=player.mousePos){var e=server.karl._x-$(window).scrollLeft()-player.mousePos;if(e.toFixed()>0&&right)return server.karl.animate("PlayerMovingStopRight",0),void(player.mousePos=0);if(e.toFixed()<0&&left)return server.karl.animate("PlayerMovingStopLeft",0),void(player.mousePos=0)}}}}};